"use strict";(self.webpackChunkvarya_me=self.webpackChunkvarya_me||[]).push([[8760],{5928:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(4552),s=a(1504);function i(e){const t=Object.assign({p:"p",span:"span",h3:"h3",a:"a",ul:"ul",li:"li"},(0,n.MN)(),e.components);return s.createElement(s.Fragment,null,s.createElement("div",{"data-excerpt":!0},s.createElement(t.p,null,"My first task for new projects is to create a git repository. Whether it is a new app, or conference slides, or even an\narticle, I prefer to keep everything in Git. It is an excellent tool, and, personally, I enjoy its command line\ninterface."),s.createElement(t.p,null,"However, there is always room for improvement. Recently I found an idea how to make my git visualize the changes that\nI've done to the images in a repository.")),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">Varyas-MBP £ ~/path/to/project ⤳ master*\n  › <span class="token function">git</span> status\nOn branch master\nChanges not staged <span class="token keyword">for</span> commit:\n  <span class="token punctuation">(</span>use <span class="token string">"git add &lt;file>..."</span> to update what will be committed<span class="token punctuation">)</span>\n  <span class="token punctuation">(</span>use <span class="token string">"git checkout -- &lt;file>..."</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>\n\n    modified:   desktop.blocks/social-ico/social-ico__rss.png\n    modified:   desktop.blocks/social-ico/social-ico__twitter.png\n\nno changes added to commit <span class="token punctuation">(</span>use <span class="token string">"git add"</span> and/or <span class="token string">"git commit -a"</span><span class="token punctuation">)</span>\nVaryas-MBP £ ~/path/to/project ⤳ master*</code></pre></div>'}}),"\n",s.createElement(t.p,null,"I can run ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">git diff</code>'}})," over each of the modified images to see the following:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 432px; width: 100%;"\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 43.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVR42jWRXUhTAQCF72tFhBER0UuED1EgPUlPPfcm+FhGjwqSlCUIYVCKhhWBBSoV/qHN3zQIJMslaepmzqmbd5tzd9Pd3Tvn5ty8d9vd/WKDDpyHw+HA4RzhcHAARVw2jzc6sO8s8tb7gR2/H6/Xy5bbzbLNht1mY2lhkY2NDZxOJ8tLy6w6VglKAeTwHnI4bMqyjCzLESHy5pXpd8wR/9vGzNYcT1Ze4HSssTA/j3XWSt+QhYEhC+MTUwyPjjE+McmwZYThkVEW7Wu4t0P4/BIeccv0eDwIaSARXDOj9klSfhvkQNczaAUmE+iSSDbgRQ95OdoPkdFS5IGcYZAQrcRsQyT3Nk3dAE3TTCE130mirYxk81XibWUkfr6kCMMg53FgKG7yMS9GaJ306gy54wRmocRUA4fN10i2XCf+upy0c6wYEyLPSlG7K1DH6oi23CDSdIV04A/5aJTsrhOtpxt9fIhcRCS7bceIHXC0/gW58RKqpYZo3z3UplKU9ptkErsI0qNz7PXcQQ3Mokw1Enx4lsRiL4YSJqu6STc8JlV5F63/I1nFhaGqxKZbCdafJzz9nOj2d+TOCqSGi6T9Cwje+gsEWsuRequQuirx1JVw5PtFXlXRgw60KQupp41oY4NFnY8dEF/5jKf2NFLHbaT++wTab+FrvEwmHkKIfGvGVXsGV80pNqtPsDdaX9zC1HU0cYXj0BpaVESTHCTt02RTcUzTQPpUxWbNSVzVJ3E9KEGZ6yr8iVAIJ32/UazvOBR/FAf/D+P4CD0kktl2oQfcaPFdjJxW9PKmQXz9K4r1PeldB4WX9/f3+QcaVlno7i9S9gAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="diff1"\n        title=""\n        src="/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png"\n        srcset="/static/46040b6f4a288812c1abdb04c0faf888/e17e5/diff1.png 400w,\n/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png 432w"\n        sizes="(max-width: 432px) 100vw, 432px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 432px; width: 100%;"\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 43.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACfklEQVR42j2RW0iTAQCF/9fALhT0GORbQyqToggJywzMoiv1UtEqeil6qSihCIoSpKxQGtmVarWLbWZhloa5NnVXd9G/bTg3df+vZdlwuVv7v3BQ5/E7nPNwjpDQvkAOOZRkoAlH1E5D+AEjkQjhcJivooi9346jz06f1YY/MIjX5y8wj2eAaGyUeFxCkiRFlmVkWZ4Q5Fs3lTFPJ2nnZSziR865ruId8GKzWun+9IkXJhPatlbM7e0YDXpMJjM6nRG9wYjH7SAaHSYWjRAMBpVQKISQAwJSQjENTeOJTUMGMuk0qUya2VyOyfc9fNe85FunFTmRZGY2BSjk/+SwuSK87vAxFJYUJZ8llUopQktggt2mYXaaR9jeMkyjY5x/Gj1zjYHFa/Et3YBvyToGTl9jOpMreHX3e6hSP2Pr0WfUnNTS2iUWuFCjE9nVEuLYm6+o28JseuqndypFttOCe34pg8WbEYsrEJdX4F5YRrrXxUfXGOv33WPPKS21N9+zTf2E6hNPGZOmETY+9nDE6OXXTBKTf5w1GgfaSIKZO49wLiojqNpG+lI9oysqsS9YQ+rRKzRtflZvb0B9wYDurYcth5rZsL8JmzuKUN5sZ+dzF7d7whzQ+ShttNIz8Ztsx2cc80oYKq4gVq0msKwcZ9EqMt29vOsfYUVlHTtOPOT4RT3r996l/GAT0fGfCM19Ecoav6C6Y2HlXQtXPgyBohT2iByvxT6vpFDsKlqF8/B5fs6mUfIKZ6+bUVXdQFVVR2lNPY8NfYWzhLmge+wHz50jWIYn/5fNKZvPE9e3I93QILV2If9K8jv7p+DlFYUua5Anxn68Yhwln2Nqaoq/30UxqzTjP7IAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="diff2"\n        title=""\n        src="/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png"\n        srcset="/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/e17e5/diff2.png 400w,\n/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png 432w"\n        sizes="(max-width: 432px) 100vw, 432px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(t.p,null,"For every picture displayed, I can see a previous version (on the left side), a current version (on the right side) and\nvisually represented difference (in between). This feature is useful for tracking exact changes in the image. Now, I can\neasily spot if some particular details were shifted, some colors were changed, or a picture was accidentally blended\nwith another one."),"\n",s.createElement(t.p,null,"You can configure git to do the same. First, install ImageMagick to provide a visual comparison. Note that for the\nlatest versions of OS X you need to install a package with a support of X11. To install with ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">brew</code>'}}),", do the following:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">  › brew install imagemagick --with-x11</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Then, create a script to compare two given images. Run ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cat ~/bin/git-imgdiff</code>'}}),", and paste inside:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">#!/bin/sh\ncompare $2 $1 png:- | montage -geometry +4+4 $2 - $1 png:- | display -title "$1" -</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Now, test the script. It should do the comparison of two processed images:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">  › ~/bin/git-imgdiff img1.png img2.png</code></pre></div>'}}),"\n",s.createElement(t.p,null,"At this step, you need to show git how to use compariing script. For that, define the image files their extensions\nin a special file. Run ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cat ~/.gitattributes</code>'}})," and paste the following:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">*.gif diff=image\n*.jpg diff=image\n*.png diff=image</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Provide git with this configuration by:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">  › git config --global core.attributesfile \'~/.gitattributes\'</code></pre></div>'}}),"\n",s.createElement(t.p,null,"The last step is to instruct git to use your script when ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">diff</code>'}})," command is applied to the matching files:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">  › git config --global diff.image.command \'~/bin/git-imgdiff\'</code></pre></div>'}}),"\n",s.createElement(t.p,null,"That's it. Now, running a ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">git diff</code>'}})," over your images you will get a human-friendly output. Enjoy!"),"\n",s.createElement(t.h3,{id:"references",style:{position:"relative"}},s.createElement(t.a,{href:"#references","aria-label":"references permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"References"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"http://www.akikoskinen.info/image-diffs-with-git/"},"1")),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"http://paulmestemaker.com/imagemagick-display-mac-os-x/"},"2")),"\n"))}var l=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.MN)(),e.components);return t?s.createElement(t,e,s.createElement(i,e)):i(e)},r=a(3268),c=a.n(r),o=a(8164),g=a(5864),d=a(4388),p=a(7264),m=a(7768);const u={Box:o.k,Button:g.q,Text:d.a,Heading:p._m,Paragraph:p.gZ,PatternJourney:p.cR,PureHtml:p.Sc,Section:p.iG,Hero:p.Ax,Widget:p.MF,PatternJourney:p.cR,WidgetContainer:p.gV,Workshop:p.yw,ProjectRoles:p.Ij,DsAspects:p.gN,Link:p.cH,Image:p.WC,ImageBlock:p.uD},h=e=>t=>{let{children:a}=t;return s.createElement(p._m,{level:e},a)},f={h1:h(1),h2:h(2),h3:h(3),h4:h(4),h5:h(5),h6:h(6),p:e=>{let{children:t}=e;return s.createElement(p.gZ,{standout:!0},t)},a:p.cH,div:e=>{let{"data-excerpt":t,children:a,...n}=e;return t?s.createElement(p.gZ,{as:"div",lead:!0},a):s.createElement("div",n,a)}};f.h1.propTypes={children:c().node};const y=e=>{let{data:{mdx:t,site:{siteMetadata:{siteUrl:a}}},children:i,pageContext:{next:l,prev:r,fileSourceUrl:c}}=e;const{readingTime:g,slug:d,disqusIdentifier:h}=t.fields,{date:y,title:b,subTitle:w,cover:E,tumblr:A}=t.frontmatter,v=t.frontmatter.tags&&t.frontmatter.tags.split(","),k=d.startsWith("blog/");return t?s.createElement(p._W,null,s.createElement(p.my,{imageUrl:E&&E.childImageSharp.gatsbyImageData.images.fallback.src,tags:v,date:y,readingTime:k&&parseInt(g.minutes)>0?Math.round(g.minutes).toFixed(1)+" min read":null,title:b,subTitle:w}),s.createElement(p.yc,{data:t}),s.createElement(o.k,{flex:"grow",width:"xlarge",margin:{horizontal:"auto"},pad:"medium",direction:"column"},s.createElement(n.Iu,{components:{...f,...u}},i),s.createElement(o.k,{direction:"row",fill:"horizontal",justify:"center",margin:{bottom:"auto"},pad:{vertical:"medium"}},v&&v.length>0&&v.map((e=>s.createElement(p.ED,{key:e,name:e.trim(),slug:(0,m.MZ)(e),margin:"xsmall"})))),k&&s.createElement(s.Fragment,null,s.createElement(p.uU,{flex:!1,prevSlug:r&&"/"+r.fields.slug,nextSlug:l&&"/"+l.fields.slug,prevTitle:r&&r.frontmatter.title,nextTitle:l&&l.frontmatter.title,pad:{vertical:"medium"}}),s.createElement(p.Oc,{link:c}),s.createElement(p.QZ,{slug:d,title:b,disqusIdentifier:h,tumblr:A,siteUrl:a})))):null};function b(e){return s.createElement(y,e,s.createElement(l,e))}},4552:function(e,t,a){a.d(t,{Iu:function(){return r},MN:function(){return i}});var n=a(1504);const s=n.createContext({});function i(e){const t=n.useContext(s);return n.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const l={};function r({components:e,children:t,disableParentContext:a}){let r;return r=a?"function"==typeof e?e({}):e||l:i(e),n.createElement(s.Provider,{value:r},t)}}}]);
//# sourceMappingURL=component---src-templates-post-js-content-file-path-home-runner-work-varya-github-com-varya-github-com-content-posts-image-diffs-with-git-index-en-md-429006389c5097da9b24.js.map