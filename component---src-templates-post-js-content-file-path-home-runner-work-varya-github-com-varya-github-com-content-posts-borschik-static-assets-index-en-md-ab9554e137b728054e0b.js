"use strict";(self.webpackChunkvarya_me=self.webpackChunkvarya_me||[]).push([[2620],{8047:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(1151),s=a(7294);function r(e){const t=Object.assign({p:"p",a:"a",h3:"h3",span:"span"},(0,n.ah)(),e.components);return s.createElement(s.Fragment,null,s.createElement(t.p,null,"Last week I met the need to develop a web site which static assets have to be\nhosted on a different server and respond by different URLs than its HTML. This\nis the requirement to all the static files: stylesheets and JavaScript linked to\nthe page as well as imges and fonts mentioned in HTML, CSS and JavaScript\ncode.",s.createElement("excerpt")," However it is obvious that these resources should be local when developing.\nThus, the challenge was to introduce a piece of magic which knows where we aim\nto host the statics and transforms all the relative paths into absolute ones\naccording to it."),"\n",s.createElement(t.p,null,"The tools which helped me is called\n",s.createElement(t.a,{href:"http://bem.info/tools/optimizers/borschik/"},"Borschik"),'. The name is funny.\nBesides it reffers to a famous Russian/Ukranian soup, it also alludes to a word\n"сборщик" ',s.createElement(t.a,{href:".zero"},"sborschik"),"\n, and so might be translated as\n",s.createElement("strike",null,"ass"),'embler. "Removing the ass part" as one of my friends says.\n:-)'),"\n",s.createElement("center",null,s.createElement("iframe",{src:"//embed.gettyimages.com/embed/135591409?et=B_T3l-shrE-pr9-ELe_wJw&sig=5haG67PAzCxGourA96ZB7m9LwSket1v9PpvXEXNIkBM=",width:"508",height:"407",frameborder:"0",scrolling:"no"})),"\n",s.createElement(t.p,null,"In the ",s.createElement(t.a,{href:"https://github.com/varya/st-deliverer"},"varya/st-deliverer")," public repository\nyou can find a stub project illustrating the solution."),"\n",s.createElement(t.h3,{id:"project-structure",style:{position:"relative"}},s.createElement(t.a,{href:"#project-structure","aria-label":"project structure permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Project structure"),"\n",s.createElement(t.p,null,"As you will be able to see later ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">borschik</code>'}})," is very flexible. So you can use any\nproject structure. In my project I store everything in\n",s.createElement(t.a,{href:"b.com/varya/st-deliverer/tree/master/src"},"src folder"),".\nWhen building I get HTML files in\n",s.createElement(t.a,{href:"https://github.com/varya/st-deliverer/tree/gh-pages/dist/html"},"dist/html directory"),".\nCheck out the code and make sure that static files are linked from a different\nserver by their absolute paths."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Deliver static assets with Borschik<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://varya.github.io/stor.../styles.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://varya.github.io/stor.../grungy.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    ...\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",s.createElement(t.p,null,s.createElement(t.a,{href:"http://varya.me/st-deliverer/dist/html/"},"Open in your browser")," to enjoy my visual\ndesign and a tom-cat."),"\n",s.createElement(t.h3,{id:"bring-borschik-to-your-project",style:{position:"relative"}},s.createElement(t.a,{href:"#bring-borschik-to-your-project","aria-label":"bring borschik to your project permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Bring borschik to your project"),"\n",s.createElement(t.p,null,"Borschik is an npm package. So, you can install it globally by runing"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> borschik</code></pre></div>'}}),"\n",s.createElement(t.p,null,"I personally prefer local project dependencies, so my project has a\n",s.createElement(t.a,{href:"https://github.com/varya/st-deliverer/blob/master/package.json"},"package.json"),"\nfile:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token operator">...</span>\n  <span class="token string-property property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"borschik"</span><span class="token operator">:</span> <span class="token string">"0.4.2"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token operator">...</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(t.h3,{id:"configuration",style:{position:"relative"}},s.createElement(t.a,{href:"#configuration","aria-label":"configuration permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Configuration"),"\n",s.createElement(t.p,null,"Before we start the magic transformation it is needed to instruct ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">borschik</code>'}})," what\nto transform and how to transform. The ",s.createElement(t.a,{href:"https://github.com/varya/st-deliverer/blob/master/.borschik"},".borschik"),"\nconfiguration file serves for that."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token string-property property">"paths"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"src/img/"</span><span class="token operator">:</span> <span class="token string">"http://varya.github.io/stor.../st-deliverer/img/"</span><span class="token punctuation">,</span>\n    <span class="token string-property property">"src/css/"</span><span class="token operator">:</span> <span class="token string">"http://varya.github.io/stor.../st-deliverer/css/"</span><span class="token punctuation">,</span>\n    <span class="token string-property property">"src/font/"</span><span class="token operator">:</span> <span class="token string">"http://varya.github.io/storage/fonts/"</span>\n\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(t.p,null,"Note that you can tune different replacements for different paths. Here I tried\nto illustrate with the fonts."),"\n",s.createElement(t.h3,{id:"run-the-command",style:{position:"relative"}},s.createElement(t.a,{href:"#run-the-command","aria-label":"run the command permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Run the command"),"\n",s.createElement(t.p,null,"Run borschik over a file which contains links to local static assets, and you\nwill get the transformation result. For example,"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">./node_modules/borschik/bin/borschik <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--input</span><span class="token operator">=</span>src/css/styles.css</code></pre></div>'}}),"\n",s.createElement(t.p,null,"Fot the building process you will also need an ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">--output</code>'}})," flag to instruct\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">borschik</code>'}})," where to place the result."),"\n",s.createElement(t.p,null,"Borschik knows the syntax of web technologies. It will not touch the links\nmentioned in text, for example."),"\n",s.createElement(t.h3,{id:"build-system",style:{position:"relative"}},s.createElement(t.a,{href:"#build-system","aria-label":"build system permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Build system"),"\n",s.createElement(t.p,null,"Now you can use ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">borschik</code>'}})," in your project build process. I simply wrote a\n",s.createElement(t.a,{href:"https://github.com/varya/st-deliverer/blob/master/Makefile"},"Makefile")," with a\nlot of help from ",s.createElement(t.a,{href:"https://github.com/alexeyten"},"@alexeyten")," (tnx!).\nThere is also a grunt plugin ",s.createElement(t.a,{href:"https://github.com/megatolya/grunt-borschik"},"megatolya/grunt-borschik"),".",s.createElement("br"),"\nIndeed, ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">borschik</code>'}})," is included into ",s.createElement(t.a,{href:"http://bem.info/tools/bem/bem-tools/"},"bem-tools"),"\nand ",s.createElement(t.a,{href:"https://github.com/enb-make/enb"},"enb")," — the two competitive solutions for\nbuilding the projects with BEM structure."),"\n",s.createElement(t.h3,{id:"result",style:{position:"relative"}},s.createElement(t.a,{href:"#result","aria-label":"result permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Result"),"\n",s.createElement(t.p,null,s.createElement(t.a,{href:"http://varya.me/st-deliverer/dist/html/"},"Check the cat again"),". Still there?"),"\n",s.createElement(t.p,null,"You also can learn about other features of ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">borschik</code>'}})," from the article:\n",s.createElement(t.a,{href:"http://bem.info/articles/borschik/"},"http://bem.info/articles/borschik/"),"."))}var l=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.ah)(),e.components);return t?s.createElement(t,e,s.createElement(r,e)):r(e)},o=a(5697),c=a.n(o),i=a(211),p=a(7034),u=a(9947),h=a(2348),m=a(3103);const d={Box:i.x,Button:p.z,Text:u.x,Heading:h.X6,Paragraph:h.nv,PatternJourney:h.Bk,PureHtml:h.hT,Section:h.$0,Hero:h.VM,Widget:h.$L,PatternJourney:h.Bk,WidgetContainer:h.Hl,Workshop:h.pC,ProjectRoles:h.MB,DsAspects:h.ED,Link:h.rU,Image:h.Ee,ImageBlock:h.r8},g=e=>t=>{let{children:a}=t;return s.createElement(h.X6,{level:e},a)},k={h1:g(1),h2:g(2),h3:g(3),h4:g(4),h5:g(5),h6:g(6),p:e=>{let{children:t}=e;return s.createElement(h.nv,{standout:!0},t)},a:h.rU,div:e=>{let{"data-excerpt":t,children:a,...n}=e;return t?s.createElement(h.nv,{as:"div",lead:!0},a):s.createElement("div",n,a)}};k.h1.propTypes={children:c().node};const f=e=>{let{data:{mdx:t,site:{siteMetadata:{siteUrl:a}}},children:r,pageContext:{next:l,prev:o,fileSourceUrl:c}}=e;const{readingTime:p,slug:u,disqusIdentifier:g}=t.fields,{date:f,title:b,subTitle:v,cover:y,tumblr:E}=t.frontmatter,S=t.frontmatter.tags&&t.frontmatter.tags.split(","),w=u.startsWith("blog/");return t?s.createElement(h.Ar,null,s.createElement(h.mV,{imageUrl:y&&y.childImageSharp.gatsbyImageData.images.fallback.src,tags:S,date:f,readingTime:w&&parseInt(p.minutes)>0?`${Math.round(p.minutes).toFixed(1)} min read`:null,title:b,subTitle:v}),s.createElement(h.pQ,{data:t}),s.createElement(i.x,{flex:"grow",width:"xlarge",margin:{horizontal:"auto"},pad:"medium",direction:"column"},s.createElement(n.Zo,{components:{...k,...d}},r),s.createElement(i.x,{direction:"row",fill:"horizontal",justify:"center",margin:{bottom:"auto"},pad:{vertical:"medium"}},S&&S.length>0&&S.map((e=>s.createElement(h.Vp,{key:e,name:e.trim(),slug:(0,m.mA)(e),margin:"xsmall"})))),w&&s.createElement(s.Fragment,null,s.createElement(h.Yp,{flex:!1,prevSlug:o&&`/${o.fields.slug}`,nextSlug:l&&`/${l.fields.slug}`,prevTitle:o&&o.frontmatter.title,nextTitle:l&&l.frontmatter.title,pad:{vertical:"medium"}}),s.createElement(h.vc,{link:c}),s.createElement(h.HW,{slug:u,title:b,disqusIdentifier:g,tumblr:E,siteUrl:a})))):null};function b(e){return s.createElement(f,e,s.createElement(l,e))}},1151:function(e,t,a){a.d(t,{Zo:function(){return o},ah:function(){return r}});var n=a(7294);const s=n.createContext({});function r(e){const t=n.useContext(s);return n.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const l={};function o({components:e,children:t,disableParentContext:a}){let o;return o=a?"function"==typeof e?e({}):e||l:r(e),n.createElement(s.Provider,{value:o},t)}}}]);
//# sourceMappingURL=component---src-templates-post-js-content-file-path-home-runner-work-varya-github-com-varya-github-com-content-posts-borschik-static-assets-index-en-md-ab9554e137b728054e0b.js.map