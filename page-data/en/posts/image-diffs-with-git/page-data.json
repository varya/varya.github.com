{"componentChunkName":"component---src-templates-post-js","path":"/en/posts/image-diffs-with-git/","result":{"data":{"mdx":{"id":"9a86729c-8065-5cee-b67a-d49edc342011","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Visual diffs for the images in a git repo\",\n  \"date\": \"2016-03-18T00:00:00.000Z\",\n  \"v2\": true,\n  \"cover\": \"thumb.png\",\n  \"layout\": \"post\",\n  \"meta\": {\n    \"desc\": \"The modified images in git repositories can have a decent visual representation of file changes. For that, you simply run `git diff` command. However, to get this output, you have to do a little configuration. This article shows how.\\n\"\n  }\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"div\", {\n    \"data-excerpt\": true\n  }, mdx(\"p\", null, \"My first task for new projects is to create a git repository. Whether it is a new app, or conference slides, or even an\\narticle, I prefer to keep everything in Git. It is an excellent tool, and, personally, I enjoy its command line\\ninterface.\"), mdx(\"p\", null, \"However, there is always room for improvement. Recently I found an idea how to make my git visualize the changes that\\nI've done to the images in a repository.\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"sh\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-sh\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"Varyas-MBP \\xA3 ~/path/to/project \\u2933 master*\\n  \\u203A \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"git\"), \" status\\nOn branch master\\nChanges not staged \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"for\"), \" commit:\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"use \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"git add <file>...\\\"\"), \" to update what will be committed\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"use \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"git checkout -- <file>...\\\"\"), \" to discard changes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"in\"), \" working directory\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\n    modified:   desktop.blocks/social-ico/social-ico__rss.png\\n    modified:   desktop.blocks/social-ico/social-ico__twitter.png\\n\\nno changes added to commit \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"use \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"git add\\\"\"), \" and/or \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"git commit -a\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nVaryas-MBP \\xA3 ~/path/to/project \\u2933 master*\"))), mdx(\"p\", null, \"I can run \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"git diff\"), \" over each of the modified images to see the following:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\",\n      \"width\": \"100%\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.50000000000001%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACa0lEQVQoz02Sy08TURjFu0dNfOBK41JxYcLGrYl7jQtj8B8wPqIQMSFCYggPFU0wRoP4ANkgActT0KBghEKLgFDQFjqlT5jSdijQF9OZTufntG78km9zzz3n/nJyTfGOdsKOGX1v+QkL3mkaXS9we9wILoEVhxOr1cqMbYapSQt2+xILi4vGmY3ZuVl8Pi8hcSO/eigUwtiMafPlc91rtxGzNzPlslK90MTSsh2bEWSxWPjQY6ar5yODQ8OY+wcYGPxEX28/5t4+bPNLrHjWWfOvIwguXRAETDKQCPzSt372kHJNQBZUVUNRsyjJOGrAhRZwowYF0ltBVCVNfnJ6jsTqGNu29yT8c7qigaIouik13crOozMk6k+x03ianZEa/jlyZAU7WthJLraGJv4hvfgNNbmFbsi7Q1XsNpQQbzA8TaUkZ9oKNlO49iSR1gtEjQvS47OEa04YpF/JbcVQxd/IHa+ROzvIik5U/wKaJJF0fmbz/jEi3deRuq4RrS0h/LCUjOTGFKgsRnx7mah3jOiXOgIVh9iZbEGLhlGlVdIPakhdLEN+04IacaJFwmx/f0bwbjGh4Wok7zibbWUE7h01QMYxrVUdx1dXiv/dFQKvLiGUHySxYhDGtpEDi8ij/aTqa5F7O8kE7eQMwrhjBOH2AfzN5/G3X8X/9Bz5nEzMiyn64yXOiiM4b+zDcbMI0VxZ6EjPZskYHe4ZIbLkQg4ukZgfNTqUCl1tdN/BcWu/4SvCWX6YyEQrSs7oMC+mxWUkWwcJzxT/T06RyYgeFN+qQSeQ2Q2hZTMFLf9o3D1Z8O1tOvKfA1EU+QvEw1niUH+zzwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"diff1\",\n    \"title\": \"diff1\",\n    \"src\": \"/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png\",\n    \"srcSet\": [\"/static/46040b6f4a288812c1abdb04c0faf888/e17e5/diff1.png 400w\", \"/static/46040b6f4a288812c1abdb04c0faf888/0e0c3/diff1.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\",\n      \"width\": \"100%\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.50000000000001%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACgElEQVQozz2SW0iTARiGd1t0vOi2IOoqw8wgC+xCS6VzdLiIyiSi6KaLThdBFBkpGJUbFB08RTWlLU8ZbiXq3Jb+c/82j/u3NltubVnZ8tC29v9P26A+eC++7+V7+fjeVxWtq+HLSL8y66rC5rNyy63B89GD5JYYGxnF3GfG2mehr7sXh8OJXRSxWKwMCAIffX4mgyGCwaASCoVIIaYKaaqVSXs38/ZybONdXBUrcbgcWC0WTD29aNtaaexop81oQK/X09LSik7XzCudDtEuMOH38jngxy1JiiRJqJKAMxRVtMM/sfh+QAzkRIL4nwSxZJJIWxdT92r52vyOL9O/mIknSJeiyJgEHy/bRAaHAoos/yEejysq3XCYfXovu1/7KH7lpcIcQJblzFLgfDmOZbm4VuThWrYJ8fhlvs3+znCVj3rZfrIhg5JTz3jW4sjMVXubxtivkzjT7uZsh5f8+iGMwVmSPR+wL93I8OoCxtcUZmBftIF5Yy/dQyG2HHrAgXPPuXbPwM7TKeHSGiT/FKr8WpGjTQ6+R2d4Oxoi96HAU/c0c49eMLh8E2NrC4ldv8NkVhEDi3OY09RRZxgjZ9ddjl3Q0vRGZEfpEzYf1PDe4kFVUCNQUm/jdpebI41OstVmjJ+jyGYBYVE2IyvzmSg6wfCqbdgWrmfe0EPPUJCsokqKyx5TdkVL3iE1Ww+r8X5KXagVA+Q9MLPuvokNahM3DKP/f/jpYgUDKVFhwXoGl+RgO36JqZn5DHdT3UlWSSXriivYuKeKp03WlFNJVGlSikTROwP0T0yl/eNfpRMQ7uwjXN1ApNNEJCU2l0j+5/sdEzS22xn1hFOdnM4jfwHNNDGAddrkfQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"diff2\",\n    \"title\": \"diff2\",\n    \"src\": \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png\",\n    \"srcSet\": [\"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/e17e5/diff2.png 400w\", \"/static/cdaec8aed7a78f5fa4a8c7a6e4c41d24/0e0c3/diff2.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"For every picture displayed, I can see a previous version (on the left side), a current version (on the right side) and\\nvisually represented difference (in between). This feature is useful for tracking exact changes in the image. Now, I can\\neasily spot if some particular details were shifted, some colors were changed, or a picture was accidentally blended\\nwith another one.\"), mdx(\"p\", null, \"You can configure git to do the same. First, install ImageMagick to provide a visual comparison. Note that for the\\nlatest versions of OS X you need to install a package with a support of X11. To install with \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"brew\"), \", do the following:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"  \\u203A brew install imagemagick --with-x11\"))), mdx(\"p\", null, \"Then, create a script to compare two given images. Run \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"cat ~/bin/git-imgdiff\"), \", and paste inside:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"#!/bin/sh\\ncompare $2 $1 png:- | montage -geometry +4+4 $2 - $1 png:- | display -title \\\"$1\\\" -\"))), mdx(\"p\", null, \"Now, test the script. It should do the comparison of two processed images:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"  \\u203A ~/bin/git-imgdiff img1.png img2.png\"))), mdx(\"p\", null, \"At this step, you need to show git how to use compariing script. For that, define the image files their extensions\\nin a special file. Run \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"cat ~/.gitattributes\"), \" and paste the following:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"*.gif diff=image\\n*.jpg diff=image\\n*.png diff=image\"))), mdx(\"p\", null, \"Provide git with this configuration by:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"  \\u203A git config --global core.attributesfile '~/.gitattributes'\"))), mdx(\"p\", null, \"The last step is to instruct git to use your script when \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"diff\"), \" command is applied to the matching files:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-text\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"  \\u203A git config --global diff.image.command '~/bin/git-imgdiff'\"))), mdx(\"p\", null, \"That's it. Now, running a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"git diff\"), \" over your images you will get a human-friendly output. Enjoy!\"), mdx(\"h3\", {\n    \"id\": \"references\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#references\",\n    \"aria-label\": \"references permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"References\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://www.akikoskinen.info/image-diffs-with-git/\"\n  }, \"1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://paulmestemaker.com/imagemagick-display-mac-os-x/\"\n  }, \"2\"))));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"readingTime":{"minutes":2.435},"slug":"en/posts/image-diffs-with-git/","disqusIdentifier":"posts-image-diffs-with-git-index-en"},"frontmatter":{"title":"Visual diffs for the images in a git repo","subTitle":null,"date":"18 March 2016","v2":true,"old":null,"tumblr":null,"tags":null,"meta":{"desc":"The modified images in git repositories can have a decent visual representation of file changes. For that, you simply run `git diff` command. However, to get this output, you have to do a little configuration. This article shows how.\n"},"canonical":null,"cover":{"childImageSharp":{"fluid":{"src":"/static/46040b6f4a288812c1abdb04c0faf888/8cf13/thumb.png"}}}}},"site":{"siteMetadata":{"siteUrl":"https://varya.me"}}},"pageContext":{"slug":"en/posts/image-diffs-with-git/","prev":{"id":"377702af-2ec6-57f3-b89f-2cafe1b10550","fileAbsolutePath":"/home/runner/work/varya.github.com/varya.github.com/content/posts/dealing-atomically-with-icon-fonts/index_en.md","fields":{"slug":"en/posts/dealing-atomically-with-icon-fonts/","disqusIdentifier":"posts-dealing-atomically-with-icon-fonts-index-en","level":1,"fileRelativePath":"dealing-atomically-with-icon-fonts/index_en.md","lang":"en"},"frontmatter":{"title":"Dealing atomically with icon fonts","subTitle":null,"link":null,"v2":true,"old":null,"date":"2015-11-10T00:00:00.000Z","layout":"post","tags":null}},"next":{"id":"b3de70bf-f3b1-5d25-b789-e71ea8a7990a","fileAbsolutePath":"/home/runner/work/varya.github.com/varya.github.com/content/posts/react-hackathon-materials/index_en.md","fields":{"slug":"en/posts/react-hackathon-materials/","disqusIdentifier":"posts-react-hackathon-materials-index-en","level":1,"fileRelativePath":"react-hackathon-materials/index_en.md","lang":"en"},"frontmatter":{"title":"Materials for your React hackathon","subTitle":null,"link":null,"v2":true,"old":null,"date":"2016-04-16T00:00:00.000Z","layout":"post","tags":null}},"fileSourceUrl":"https://github.com/varya/varya.github.com/edit/develop/content/posts/image-diffs-with-git/index_en.md"}},"staticQueryHashes":[]}