{"componentChunkName":"component---src-templates-post-js-content-file-path-home-runner-work-varya-github-com-varya-github-com-content-posts-borschik-static-assets-index-en-md","path":"/en/posts/borschik-static-assets/","result":{"data":{"mdx":{"id":"57e8c1a5-9efe-5134-aac6-3eed6cbde5e1","body":"\nLast week I met the need to develop a web site which static assets have to be\nhosted on a different server and respond by different URLs than its HTML. This\nis the requirement to all the static files: stylesheets and JavaScript linked to\nthe page as well as imges and fonts mentioned in HTML, CSS and JavaScript\ncode.<excerpt/> However it is obvious that these resources should be local when developing.\nThus, the challenge was to introduce a piece of magic which knows where we aim\nto host the statics and transforms all the relative paths into absolute ones\naccording to it.\n\nThe tools which helped me is called\n[Borschik](http://bem.info/tools/optimizers/borschik/). The name is funny.\nBesides it reffers to a famous Russian/Ukranian soup, it also alludes to a word\n\"сборщик\" [sborschik](.zero)\n, and so might be translated as\n<strike>ass</strike>embler. \"Removing the ass part\" as one of my friends says.\n:-)\n\n<center>\n<iframe src=\"//embed.gettyimages.com/embed/135591409?et=B_T3l-shrE-pr9-ELe_wJw&sig=5haG67PAzCxGourA96ZB7m9LwSket1v9PpvXEXNIkBM=\" width=\"508\" height=\"407\" frameborder=\"0\" scrolling=\"no\"></iframe>\n</center>\n\nIn the [varya/st-deliverer](https://github.com/varya/st-deliverer) public repository\nyou can find a stub project illustrating the solution.\n\n### Project structure\n\nAs you will be able to see later `borschik` is very flexible. So you can use any\nproject structure. In my project I store everything in\n[src folder](b.com/varya/st-deliverer/tree/master/src).\nWhen building I get HTML files in\n[dist/html directory](https://github.com/varya/st-deliverer/tree/gh-pages/dist/html).\nCheck out the code and make sure that static files are linked from a different\nserver by their absolute paths.\n\n```html\n<html>\n  <head>\n    <title>Deliver static assets with Borschik</title>\n    <link rel=\"stylesheet\" href=\"http://varya.github.io/stor.../styles.css\" />\n  </head>\n  <body class=\"page\" background=\"http://varya.github.io/stor.../grungy.jpg\">\n    ...\n  </body>\n</html>\n```\n\n[Open in your browser](http://varya.me/st-deliverer/dist/html/) to enjoy my visual\ndesign and a tom-cat.\n\n### Bring borschik to your project\n\nBorschik is an npm package. So, you can install it globally by runing\n\n```bash\nnpm install -g borschik\n```\n\nI personally prefer local project dependencies, so my project has a\n[package.json](https://github.com/varya/st-deliverer/blob/master/package.json)\nfile:\n\n```js\n{\n  ...\n  \"dependencies\": {\n    \"borschik\": \"0.4.2\"\n  },\n  ...\n}\n```\n\n### Configuration\n\nBefore we start the magic transformation it is needed to instruct `borschik` what\nto transform and how to transform. The [.borschik](https://github.com/varya/st-deliverer/blob/master/.borschik)\nconfiguration file serves for that.\n\n```js\n{\n  \"paths\" : {\n    \"src/img/\": \"http://varya.github.io/stor.../st-deliverer/img/\",\n    \"src/css/\": \"http://varya.github.io/stor.../st-deliverer/css/\",\n    \"src/font/\": \"http://varya.github.io/storage/fonts/\"\n\n  }\n}\n```\n\nNote that you can tune different replacements for different paths. Here I tried\nto illustrate with the fonts.\n\n### Run the command\n\nRun borschik over a file which contains links to local static assets, and you\nwill get the transformation result. For example,\n\n```bash\n./node_modules/borschik/bin/borschik \\\n  --input=src/css/styles.css\n```\n\nFot the building process you will also need an `--output` flag to instruct\n`borschik` where to place the result.\n\nBorschik knows the syntax of web technologies. It will not touch the links\nmentioned in text, for example.\n\n### Build system\n\nNow you can use `borschik` in your project build process. I simply wrote a\n[Makefile](https://github.com/varya/st-deliverer/blob/master/Makefile) with a\nlot of help from [@alexeyten](https://github.com/alexeyten) (tnx!).\nThere is also a grunt plugin [megatolya/grunt-borschik](https://github.com/megatolya/grunt-borschik).<br/>\nIndeed, `borschik` is included into [bem-tools](http://bem.info/tools/bem/bem-tools/)\nand [enb](https://github.com/enb-make/enb) — the two competitive solutions for\nbuilding the projects with BEM structure.\n\n### Result\n\n[Check the cat again](http://varya.me/st-deliverer/dist/html/). Still there?\n\nYou also can learn about other features of `borschik` from the article:\n[http://bem.info/articles/borschik/](http://bem.info/articles/borschik/).\n","fields":{"slug":"en/posts/borschik-static-assets/","disqusIdentifier":"en-issues-borschik-static-assets","readingTime":{"minutes":2.565}},"frontmatter":{"title":"Borschik helps with remote static assets","subTitle":null,"date":"10 March 2014","v2":null,"old":true,"tumblr":null,"tags":null,"meta":null,"canonical":null,"cover":null}},"site":{"siteMetadata":{"siteUrl":"https://varya.me"}}},"pageContext":{"slug":"en/posts/borschik-static-assets/","prev":{"id":"cc30eaaa-6fb1-59ff-bc9e-bbcad01f383f","fields":{"slug":"en/posts/ym-modular-system/","disqusIdentifier":"en-issues-ym-modular-system","level":1,"fileRelativePath":"ym-modular-system/index_en.md","lang":"en","readingTime":{"minutes":4.24}},"frontmatter":{"title":"YM Modular System. Why?","subTitle":null,"link":null,"v2":null,"old":true,"date":"2014-02-25T00:00:00.000Z","layout":"post","tags":null},"internal":{"contentFilePath":"/home/runner/work/varya.github.com/varya.github.com/content/posts/ym-modular-system/index_en.md"}},"next":{"id":"875f5f01-23c4-5c43-a973-a61cd4d65c75","fields":{"slug":"en/posts/beml-html-preprocessor/","disqusIdentifier":"en-issues-beml-html-preprocessor","level":1,"fileRelativePath":"beml-html-preprocessor/index_en.md","lang":"en","readingTime":{"minutes":2.91}},"frontmatter":{"title":"BEML - an HTML preprocessor for BEM","subTitle":null,"link":null,"v2":null,"old":true,"date":"2014-04-09T00:00:00.000Z","layout":"post","tags":null},"internal":{"contentFilePath":"/home/runner/work/varya.github.com/varya.github.com/content/posts/beml-html-preprocessor/index_en.md"}},"fileSourceUrl":"https://github.com/varya/varya.github.com/edit/develop/content/posts/borschik-static-assets/index_en.md","frontmatter":{"title":"Borschik helps with remote static assets","categories":"en issues","old":true,"date":"2014-03-10T00:00:00.000Z","layout":"post"}}},"staticQueryHashes":[],"slicesMap":{}}